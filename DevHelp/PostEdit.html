<form>
    <input type="text" name="editing" id="BlogFileName">
    <label for="BlogFileName">Blog post to edit.</label><br>
    <button>Edit</button><br>
    <em>Note: if none is selected, a new one will be created.</em>
</form>

<b id="NoPostFound" style="display:none">Cannot edit a non-existant post.</b>

<form id="mainform" action="/DevHelp/.BlogBuilder" method="post">
    <input type="text" name="title" placeholder="Insert title..."><br>
    <textarea name="Body"></textarea><br>
    <button>Post</button>
</form>

<script>
    const query = new URLSearchParams(location.search);
    var NewPost = !query.has("editing") || query.get("editing") == "";
    
    if (!NewPost) {
        fetch(`/blog/${query.get("editing")}.md`)
            .then(res => {
                if (!res.ok) {
                    NewPost = true;
                    return "";
                }
                return res.text()
            })
            .then(res => {
                if (res == "") {
                    document.querySelector("#mainform").style.display = "none";
                    document.querySelector("#NoPostFound").style.display = "block";
                    return;
                }

            })
    }
</script>