<!DOCTYPE html>
<html lang="en-us" prefix="og: https://ogp.me/ns# article: http://ogp.me/ns/article# profile: https://ogp.me/ns/profile#">

<head>
    

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Create a Theme Switch - S0G</title>
    <link rel="stylesheet" href="/src/global.css" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:site_name" content="Steve0Greatness" />
    <meta property="og:image" content="/OG-Image.png" />
    
<link rel="stylesheet" href="/src/code-blocks.css" />
<link rel="stylesheet" href="/src/blog.css" />
<link rel="alternate" href="/blog/creating_a_theme_switch.txt" type="text/plain" title="Post source" />
<meta property="og:title" content="Create a Theme Switch" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-12-08T00:00:00Z" />
<meta property="article:author" content"https://steve0greatness.github.io" />
<meta property="article:modified_time" content="2024-02-03T00:00:00Z" /> 
<meta property="profile:first_name" content="Steve0Greatness" />
<meta property="profile:username" content="Steve0Greatness" />
<meta property="profile:gender" content="male" />
<meta property="og:url" content="https://steve0greatness.github.io/blog/creating_a_theme_switch.html" />

</head>

<body>
    <header>
        <h2><a href="/"><img src="/SteveLogo.webp" height="35" width="215" alt="Steve0Greatness" /></a></h2>
        <nav>
            <a href="/blog">Blog</a>
            <a href="/list/link-tree.html">Link Tree</a>
        </nav>
    </header>
    
<nav aria-label="breadcrumbs" aria-roledescription="Site breadcrumb">
	<ol class="breadcrumbs">
        
    		<li>
        		<a href="/">Index</a>
	    	</li>
    		
	    	<li >
                <a
                    
                    href="/blog"
                >Blog Index</a>
    		</li>
    		
	    	<li >
                <a
                    aria-current="location"
                    href="/blog/creating_a_theme_switch.html"
                >Create a Theme Switch</a>
    		</li>
    		
        
	</ol>
</nav>
    <main>
<h1>Create a Theme Switch</h1>
<article>
    <header>
        <div role="toolbar" class="toolbar">
            <strong>Share</strong>
            <a href="https://toot.kytta.dev/?text=Take a look at this article by @S0G@mastodon.social: https://steve0greatness.github.io/blog/creating_a_theme_switch.html" title="Share to Mastodon">
                <img src="/toot-kytta-dev-icon.png" width="16" height="16" aria-hidden="true" title="Share to Mastodon" />
            </a>
            <a href="/blog/creating_a_theme_switch.html" title="Direct link">
                <img src="/link-icon.png" width="16" height="16" aria-hidden="true" title="Direct link" />
            </a>
            <a href="/blog/creating_a_theme_switch.txt" title="Markdown source">
                <img src="/md-src.png" width="16" height="16" aria-hidden="true" />
            </a>
        </div>
    <div class="time-stamps">
        <time datetime="2021-12-08T00:00:00-08:00">2021 Dec 08 PST</time>
        - <span aria-hidden="true" style="font-style:italic">Revision as of: </span> <time datetime="2024-02-03T00:00:00-08:00" aria-label="Revision">2024 Feb 03 PST</time>
        
    </div>
    </header>
    <p>This is a simple tutorial on how to make a simple theme switcher.</p>

<p>First step is to create the themes you'll want on your site. You may just want a light and dark mode, however, you may also want other themes. As an example: a clown theme that makes the page absurdly colorful, like a GeoCities site in the early 2000s. For these themes, you can use CSS variables set on the <code>html</code> parent tag(all other elements are considered children of <code>html</code>). Variables can be set in CSS using double hyphens followed by a sequence of text that can use numbers(but not at the start), letters(capital or lowercase), underscores, and hyphens; these variables can then be accessed within your text using the <code>var()</code> function with the name of the variable(including the starting hyphens). You can change out the CSS variables using different selectors on the <code>html</code> tag within the CSS, for me: I'm using the <code>[data-theme]</code> attribute; however, you can use classes if you want. Here is the CSS I wrote:</p>

<div class="codehilite">
<pre><span></span><code><span class="nt">html</span><span class="o">[</span><span class="nt">data-theme</span><span class="o">=</span><span class="nt">light</span><span class="o">]</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">background</span><span class="p">:</span><span class="w"> </span><span class="mh">#fff</span><span class="p">;</span>
<span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#000</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--buttonBackground</span><span class="p">:</span><span class="w"> </span><span class="mh">#fefefe</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--buttonBorder</span><span class="p">:</span><span class="w"> </span><span class="mh">#ccc</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--buttonColor</span><span class="p">:</span><span class="w"> </span><span class="mh">#001</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">html</span><span class="o">[</span><span class="nt">data-theme</span><span class="o">=</span><span class="nt">dark</span><span class="o">]</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">background</span><span class="p">:</span><span class="w"> </span><span class="mh">#000</span><span class="p">;</span>
<span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#fff</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--buttonBackground</span><span class="p">:</span><span class="w"> </span><span class="mh">#101010</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--buttonBorder</span><span class="p">:</span><span class="w"> </span><span class="mh">#333</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--buttonColor</span><span class="p">:</span><span class="w"> </span><span class="mh">#fff</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">html</span><span class="o">[</span><span class="nt">data-theme</span><span class="o">=</span><span class="nt">clown</span><span class="o">]</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">background</span><span class="p">:</span><span class="w"> </span><span class="mh">#f00</span><span class="p">;</span>
<span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="mh">#00f</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--buttonBackground</span><span class="p">:</span><span class="w"> </span><span class="mh">#050</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--buttonBorder</span><span class="p">:</span><span class="w"> </span><span class="mh">#0a0</span><span class="p">;</span>
<span class="w">    </span><span class="nv">--buttonColor</span><span class="p">:</span><span class="w"> </span><span class="mh">#0f0</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">button</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">background</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--buttonBackground</span><span class="p">);</span>
<span class="w">    </span><span class="k">border</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--buttonBorder</span><span class="p">)</span><span class="w"> </span><span class="kc">solid</span><span class="w"> </span><span class="mi">3</span><span class="kt">px</span><span class="p">;</span>
<span class="w">    </span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="nf">var</span><span class="p">(</span><span class="nv">--buttonColor</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
</div>

<p>Now we need to create a button that we will use to change the <code>[data-theme]</code> attribute. You (probably) already know what buttons are, so I won't go in depth about then. However: you will need to add an <code>[id]</code> to the button, this will come in play shortly.</p>

<div class="codehilite">
<pre><span></span><code><span class="p">&lt;</span><span class="nt">button</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;theme-switch&quot;</span><span class="p">&gt;</span>Switch Theme<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</code></pre>
</div>

<p>Now, it is time to write the JavaScript. First, you'll want to make a constant with the themes you filled into your CSS, for me, that was <code>dark</code>, <code>light</code>, and <code>clown</code>. I'll name this <code>themes</code>.</p>

<div class="codehilite">
<pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">themes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;light&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;dark&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;clown&quot;</span><span class="p">];</span>
</code></pre>
</div>

<p>We now need to query the <abbr title="Document Object Model">DOM</abbr> for our theme switch button. This can be done in 2 ways: <code>document.querySelector</code> or <code>document.getElementById</code>; personally, I prefer <code>querySelector</code>, as it allows you to write a CSS selector to get an element from the DOM, allowing for shorter, more digestible, code.</p>

<p>We have to add a click event to the button. This can be done in 2 ways within JavaScript: <code>addEventListener("click", ...)</code> and <code>onclick</code>. I personally like <code>addEventListener</code> more, so I'll use that. Within the <code>addEventListener</code> function, you need to put a function. This function will control the logic of our theme switch. I'll call this function <code>SwitchTheme</code>, to reflect it's functionality.</p>

<div class="codehilite">
<pre><span></span><code><span class="kd">const</span><span class="w"> </span><span class="nx">ThemeSwitchButton</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s2">&quot;#theme-switch&quot;</span><span class="p">);</span>
<span class="nx">ThemeSwitchButton</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">SwitchTheme</span><span class="p">());</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">SwitchTheme</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>
</code></pre>
</div>

<p>Explaining each part of this function as it's written out would take awhile, so instead, I'll add comments to the ends of each line giving a short explanation. Also, for the sake of shortness, I've placed <code>document.documentElement</code> inside the constant <code>HTML</code>, giving us access to the root element in the DOM(<code>html</code>).</p>

<div class="codehilite">
<pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="nx">CurrentTheme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">themes</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="nx">HTML</span><span class="p">.</span><span class="nx">dataset</span><span class="p">.</span><span class="nx">theme</span><span class="p">);</span><span class="w"> </span><span class="c1">// Gets how far in the current theme is into the &quot;themes&quot; constant.</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">CurrentTheme</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="nx">themes</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="c1">// Checks if it&#39;s at the end of the array,</span>
<span class="w">    </span><span class="nx">HTML</span><span class="p">.</span><span class="nx">dataset</span><span class="p">.</span><span class="nx">theme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">themes</span><span class="p">[</span><span class="mf">0</span><span class="p">];</span><span class="w"> </span><span class="c1">// If so, reset at the start.</span>
<span class="w">    </span><span class="k">return</span><span class="p">;</span><span class="w"> </span><span class="c1">// Ends the function here, preventing next bit of code from running.</span>
<span class="p">}</span>
<span class="nx">HTML</span><span class="p">.</span><span class="nx">dataset</span><span class="p">.</span><span class="nx">theme</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">themes</span><span class="p">[</span><span class="nx">CurrentTheme</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">];</span><span class="w"> </span><span class="c1">// Goes to the next theme.</span>
</code></pre>
</div>

<p>Now we have a finished product. Here's the expected output:</p>

<iframe id="finalProduct" src="/blog-files/theme-change-final.html" style="border:none"></iframe>

<p><a href="/blog-files/theme-change-final.txt">See Code</a></p>

</article>
</main>
    <footer>
        <div class="footer-link-list-holder" role="group">
            <span aria-hidden="true" id="footer-label-site-details" class="footer-link-list-label">Site Meta</span>
            <ol class="footer-link-list" aria-labelledby="footer-label-site-details">
                <li><a href="/list/website-sources-mirrors.html">Source Code and Mirrors</a></li>
                <li><a href="https://steve0greatness.github.io/extras">Extras</a></li>
            </ol>
        </div>
        <div class="footer-link-list-holder" role="group">
            <span aria-hidden="true" id="footer-label-social-accounts" class="footer-link-list-label">Social Accounts</span>
            <ol class="footer-link-list" aria-labelledby="footer-label-social-accounts">
                <li><a href="https://mastodon.social/@S0G" rel="me">Mastodon</a></li>
                <li><a href="https://youtube.com/@s0g">YouTube</a></li>
                <li><a href="/list/link-tree.html">More...</a></li>
            </ol>
        </div>
    </footer>
</body>

</html>